<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>PPDB Online - Satu Halaman</title>
  <style>
    * { box-sizing: border-box; }
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      margin: 0;
      background: linear-gradient(to right, #e0f7fa, #ffffff);
      color: #333;
    }
    .container {
      max-width: 900px;
      margin: auto;
      padding: 20px;
    }
    h1, h2, h3 {
      color: #00796b;
      text-align: center;
    }
    .form-section {
      background: #ffffff;
      border-radius: 10px;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
      padding: 20px;
      margin-bottom: 30px;
    }
    label {
      display: block;
      margin: 10px 0 5px;
    }
    input, select, button, textarea {
      width: 100%;
      padding: 10px;
      margin-bottom: 15px;
      border: 1px solid #ccc;
      border-radius: 5px;
    }
    button {
      background: #00796b;
      color: white;
      border: none;
      cursor: pointer;
      transition: background 0.3s ease;
    }
    button:hover { background: #004d40; }
    .hidden { display: none; }
    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 20px;
    }
    th, td {
      padding: 10px;
      border: 1px solid #ccc;
      text-align: left;
    }
    .info {
      background: #e0f2f1;
      padding: 15px;
      border-left: 5px solid #00796b;
      margin-bottom: 20px;
    }
    .success {
      background: #c8e6c9;
      padding: 20px;
      border-left: 5px solid #388e3c;
    }
    .contact {
      background: #f1f8e9;
      padding: 15px;
      border-left: 5px solid #689f38;
      margin-top: 30px;
    }
    .action-buttons {
      display: flex;
      gap: 10px;
      justify-content: center;
      margin-top: 10px;
      margin-bottom: 0px;
    }
    .action-buttons button {
      width: auto;
      padding: 8px 16px;
      margin-bottom: 0;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>PPDB Online</h1>

    <!-- Halaman Utama -->
    <div id="mainPage" class="form-section">
      <h2>Selamat Datang di PPDB Online</h2>
      <div class="info">
        Silakan login untuk melakukan pengisian data PPDB. Jika belum memiliki akun, silakan registrasi terlebih dahulu.
      </div>
      <div class="action-buttons">
        <button onclick="showLogin()">Login</button>
        <button onclick="showRegister()">Registrasi</button>
      </div>
    </div>

    <!-- Login Form -->
    <div id="loginForm" class="form-section hidden">
      <h2>Login</h2>
      <label for="loginUsername">Username:</label>
      <input type="text" id="loginUsername">

      <label for="loginPassword">Password:</label>
      <input type="password" id="loginPassword">

      <button onclick="loginUser()">Login</button>
      <p>Belum punya akun? <a href="#" onclick="toggleForms(true)">Registrasi</a></p>
      <p><a href="#" onclick="backToMain()">Kembali ke Beranda</a></p>
    </div>

    <!-- Registrasi Form -->
    <div id="registerForm" class="form-section hidden">
      <h2>Registrasi</h2>
      <label for="regUsername">Username:</label>
      <input type="text" id="regUsername">

      <label for="regPassword">Password:</label>
      <input type="password" id="regPassword">

      <button onclick="registerUser()">Daftar</button>
      <p>Sudah punya akun? <a href="#" onclick="toggleForms(false)">Login</a></p>
      <p><a href="#" onclick="backToMain()">Kembali ke Beranda</a></p>
    </div>

    <!-- Formulir Data Siswa -->
    <div id="formSiswa" class="form-section hidden">
      <h2>Data Siswa</h2>
      <label>Nama Lengkap:</label>
      <input type="text" id="s_nama">

      <label>NIK:</label>
      <input type="text" id="s_nik">

      <label>Tempat Lahir:</label>
      <input type="text" id="s_tempat_lahir">

      <label>Tanggal Lahir:</label>
      <input type="date" id="s_tanggal_lahir">

      <label>Jenis Kelamin:</label>
      <select id="s_jk">
        <option value="">Pilih</option>
        <option value="Laki-laki">Laki-laki</option>
        <option value="Perempuan">Perempuan</option>
      </select>

      <label>Alamat Lengkap:</label>
      <textarea id="s_alamat"></textarea>

      <label>Nomor HP Siswa:</label>
      <input type="text" id="s_hp">

      <label>Email Siswa:</label>
      <input type="email" id="s_email">

      <label>Data Ijazah:</label>
      <input type="text" id="s_ijazah" placeholder="Nomor Ijazah">

      <label>NISN:</label>
      <input type="text" id="s_nisn">

      <label>Asal Sekolah:</label>
      <input type="text" id="s_sekolah">

      <div class="action-buttons">
        <button onclick="simpanSiswa()">Lanjut Data Orang Tua</button>
      </div>
    </div>

    <!-- Formulir Data Orang Tua -->
    <div id="formOrtu" class="form-section hidden">
      <h2>Data Orang Tua</h2>
      <label>Nama Orang Tua:</label>
      <input type="text" id="o_nama">

      <label>Alamat Orang Tua:</label>
      <textarea id="o_alamat"></textarea>

      <label>Tanggal Lahir Orang Tua:</label>
      <input type="date" id="o_tanggal_lahir">

      <label>Pekerjaan:</label>
      <input type="text" id="o_pekerjaan">

      <label>Penghasilan Perbulan (Rp):</label>
      <input type="number" id="o_penghasilan">

      <label>Nomor HP Orang Tua:</label>
      <input type="text" id="o_hp">

      <div class="action-buttons">
        <button onclick="backToSiswa()">Kembali</button>
        <button onclick="simpanOrtu()">Lanjut Validasi</button>
      </div>
    </div>

    <!-- Validasi Data -->
    <div id="validasiData" class="form-section hidden">
      <h2>Validasi Data</h2>
      <div class="info">Silakan cek kembali data berikut. Jika ada yang salah, klik Edit. Jika sudah benar, klik Konfirmasi.</div>
      <h3>Data Siswa</h3>
      <table>
        <tr><th>Nama Lengkap</th><td id="v_s_nama"></td></tr>
        <tr><th>NIK</th><td id="v_s_nik"></td></tr>
        <tr><th>Tempat, Tanggal Lahir</th><td id="v_s_tempat_lahir"></td></tr>
        <tr><th>Jenis Kelamin</th><td id="v_s_jk"></td></tr>
        <tr><th>Alamat Lengkap</th><td id="v_s_alamat"></td></tr>
        <tr><th>Nomor HP Siswa</th><td id="v_s_hp"></td></tr>
        <tr><th>Email Siswa</th><td id="v_s_email"></td></tr>
        <tr><th>Data Ijazah</th><td id="v_s_ijazah"></td></tr>
        <tr><th>NISN</th><td id="v_s_nisn"></td></tr>
        <tr><th>Asal Sekolah</th><td id="v_s_sekolah"></td></tr>
      </table>
      <h3>Data Orang Tua</h3>
      <table>
        <tr><th>Nama Orang Tua</th><td id="v_o_nama"></td></tr>
        <tr><th>Alamat Orang Tua</th><td id="v_o_alamat"></td></tr>
        <tr><th>Tanggal Lahir</th><td id="v_o_tanggal_lahir"></td></tr>
        <tr><th>Pekerjaan</th><td id="v_o_pekerjaan"></td></tr>
        <tr><th>Penghasilan Perbulan</th><td id="v_o_penghasilan"></td></tr>
        <tr><th>Nomor HP Orang Tua</th><td id="v_o_hp"></td></tr>
      </table>
      <div class="action-buttons">
        <button onclick="editData()">Edit</button>
        <button onclick="konfirmasiData()">Konfirmasi</button>
      </div>
    </div>

    <!-- Pengumuman (Hanya data siswa) -->
    <div id="pengumuman" class="form-section hidden">
      <h2>Pengumuman Data Siswa</h2>
      <div class="success">
        <p>Berikut data Anda yang telah terdaftar:</p>
        <table>
          <tr><th>Nama Lengkap</th><td id="p_s_nama"></td></tr>
          <tr><th>NIK</th><td id="p_s_nik"></td></tr>
          <tr><th>Tempat, Tanggal Lahir</th><td id="p_s_tempat_lahir"></td></tr>
          <tr><th>Jenis Kelamin</th><td id="p_s_jk"></td></tr>
          <tr><th>Alamat Lengkap</th><td id="p_s_alamat"></td></tr>
          <tr><th>Nomor HP Siswa</th><td id="p_s_hp"></td></tr>
          <tr><th>Email Siswa</th><td id="p_s_email"></td></tr>
          <tr><th>Data Ijazah</th><td id="p_s_ijazah"></td></tr>
          <tr><th>NISN</th><td id="p_s_nisn"></td></tr>
          <tr><th>Asal Sekolah</th><td id="p_s_sekolah"></td></tr>
        </table>
        <div class="action-buttons">
          <button onclick="lihatStatus()">Lihat Status Kelulusan</button>
        </div>
      </div>
    </div>

    <!-- Halaman Status Kelulusan -->
    <div id="statusKelulusan" class="form-section hidden">
      <h2>Status Kelulusan</h2>
      <div class="info" id="kelulusanInfo"></div>
      <div class="contact">
        <h3>Informasi & Kontak Panitia</h3>
        <p>üìç Alamat: Jl. Pendidikan No. 123, Yogyakarta</p>
        <p>üìû Telp: 0812-3456-7890</p>
        <p>‚úâÔ∏è Email: ppdb@sekolah.sch.id</p>
        <p>üåê Website: www.sekolah.sch.id</p>
      </div>
      <div class="action-buttons">
        <button onclick="backToMain()">Kembali ke Beranda</button>
      </div>
    </div>
  </div>

  <script>
    // Simulasi user login
    let currentUser = null;
    const users = { admin: "123" };

    // Data status kelulusan dummy
    // Simulasi: siswa dengan nama tertentu akan dinyatakan lulus
    function cekKelulusan(nama) {
      const namaLulus = ["Budi", "Siti", "Joko"]; // ganti sesuai kebutuhan
      return namaLulus.map(n => n.toLowerCase()).includes(nama.toLowerCase());
    }

    // Navigasi halaman
    function showLogin() {
      hideAll();
      document.getElementById("loginForm").classList.remove("hidden");
    }
    function showRegister() {
      hideAll();
      document.getElementById("registerForm").classList.remove("hidden");
    }
    function backToMain() {
      hideAll();
      document.getElementById("mainPage").classList.remove("hidden");
    }
    function hideAll() {
      [
        "mainPage","loginForm","registerForm","formSiswa","formOrtu",
        "validasiData","pengumuman","statusKelulusan"
      ].forEach(id=>document.getElementById(id).classList.add("hidden"));
    }
    function toggleForms(showRegister) {
      document.getElementById("loginForm").classList.toggle("hidden", showRegister);
      document.getElementById("registerForm").classList.toggle("hidden", !showRegister);
    }

    // LOGIN & REGISTER
    function loginUser() {
      const user = document.getElementById("loginUsername").value;
      const pass = document.getElementById("loginPassword").value;
      if (users[user] === pass) {
        currentUser = user;
        startFormulir();
      } else {
        alert("Username atau password salah!");
      }
    }
    function registerUser() {
      const user = document.getElementById("regUsername").value;
      const pass = document.getElementById("regPassword").value;
      if (user && pass) {
        users[user] = pass;
        alert("Registrasi berhasil. Silakan login.");
        toggleForms(false);
      } else {
        alert("Semua kolom wajib diisi!");
      }
    }
    function startFormulir() {
      hideAll();
      document.getElementById("formSiswa").classList.remove("hidden");
    }

    // DATA SISWA
    function simpanSiswa() {
      const s_nama = document.getElementById("s_nama").value.trim();
      const s_nik = document.getElementById("s_nik").value.trim();
      const s_tempat_lahir = document.getElementById("s_tempat_lahir").value.trim();
      const s_tanggal_lahir = document.getElementById("s_tanggal_lahir").value;
      const s_jk = document.getElementById("s_jk").value;
      const s_alamat = document.getElementById("s_alamat").value.trim();
      const s_hp = document.getElementById("s_hp").value.trim();
      const s_email = document.getElementById("s_email").value.trim();
      const s_ijazah = document.getElementById("s_ijazah").value.trim();
      const s_nisn = document.getElementById("s_nisn").value.trim();
      const s_sekolah = document.getElementById("s_sekolah").value.trim();
      if (!s_nama || !s_nik || !s_tempat_lahir || !s_tanggal_lahir || !s_jk || !s_alamat || !s_hp || !s_email || !s_ijazah || !s_nisn || !s_sekolah) {
        alert("Semua kolom wajib diisi!");
        return;
      }
      const dataSiswa = {
        s_nama, s_nik, s_tempat_lahir, s_tanggal_lahir, s_jk, s_alamat, s_hp, s_email, s_ijazah, s_nisn, s_sekolah
      };
      localStorage.setItem("dataSiswa", JSON.stringify(dataSiswa));
      hideAll();
      document.getElementById("formOrtu").classList.remove("hidden");
    }
    function backToSiswa() {
      hideAll();
      document.getElementById("formSiswa").classList.remove("hidden");
    }

    // DATA ORANG TUA
    function simpanOrtu() {
      const o_nama = document.getElementById("o_nama").value.trim();
      const o_alamat = document.getElementById("o_alamat").value.trim();
      const o_tanggal_lahir = document.getElementById("o_tanggal_lahir").value;
      const o_pekerjaan = document.getElementById("o_pekerjaan").value.trim();
      const o_penghasilan = document.getElementById("o_penghasilan").value.trim();
      const o_hp = document.getElementById("o_hp").value.trim();
      if (!o_nama || !o_alamat || !o_tanggal_lahir || !o_pekerjaan || !o_penghasilan || !o_hp) {
        alert("Semua kolom wajib diisi!");
        return;
      }
      const dataOrtu = {
        o_nama, o_alamat, o_tanggal_lahir, o_pekerjaan, o_penghasilan, o_hp
      };
      localStorage.setItem("dataOrtu", JSON.stringify(dataOrtu));
      tampilValidasi();
    }

    // VALIDASI
    function tampilValidasi() {
      hideAll();
      document.getElementById("validasiData").classList.remove("hidden");
      const s = JSON.parse(localStorage.getItem("dataSiswa")) || {};
      const o = JSON.parse(localStorage.getItem("dataOrtu")) || {};
      // Siswa
      document.getElementById("v_s_nama").textContent = s.s_nama||"";
      document.getElementById("v_s_nik").textContent = s.s_nik||"";
      document.getElementById("v_s_tempat_lahir").textContent = (s.s_tempat_lahir||"") + ', ' + (s.s_tanggal_lahir||"");
      document.getElementById("v_s_jk").textContent = s.s_jk||"";
      document.getElementById("v_s_alamat").textContent = s.s_alamat||"";
      document.getElementById("v_s_hp").textContent = s.s_hp||"";
      document.getElementById("v_s_email").textContent = s.s_email||"";
      document.getElementById("v_s_ijazah").textContent = s.s_ijazah||"";
      document.getElementById("v_s_nisn").textContent = s.s_nisn||"";
      document.getElementById("v_s_sekolah").textContent = s.s_sekolah||"";
      // Orang tua
      document.getElementById("v_o_nama").textContent = o.o_nama||"";
      document.getElementById("v_o_alamat").textContent = o.o_alamat||"";
      document.getElementById("v_o_tanggal_lahir").textContent = o.o_tanggal_lahir||"";
      document.getElementById("v_o_pekerjaan").textContent = o.o_pekerjaan||"";
      document.getElementById("v_o_penghasilan").textContent = o.o_penghasilan||"";
      document.getElementById("v_o_hp").textContent = o.o_hp||"";
    }
    function editData() {
      hideAll();
      document.getElementById("formSiswa").classList.remove("hidden");
      // Prefill data siswa
      const s = JSON.parse(localStorage.getItem("dataSiswa")) || {};
      document.getElementById("s_nama").value = s.s_nama||"";
      document.getElementById("s_nik").value = s.s_nik||"";
      document.getElementById("s_tempat_lahir").value = s.s_tempat_lahir||"";
      document.getElementById("s_tanggal_lahir").value = s.s_tanggal_lahir||"";
      document.getElementById("s_jk").value = s.s_jk||"";
      document.getElementById("s_alamat").value = s.s_alamat||"";
      document.getElementById("s_hp").value = s.s_hp||"";
      document.getElementById("s_email").value = s.s_email||"";
      document.getElementById("s_ijazah").value = s.s_ijazah||"";
      document.getElementById("s_nisn").value = s.s_nisn||"";
      document.getElementById("s_sekolah").value = s.s_sekolah||"";
      // Prefill data ortu disaat pindah ke form ortu
      setTimeout(()=>{
        const o = JSON.parse(localStorage.getItem("dataOrtu")) || {};
        document.getElementById("o_nama").value = o.o_nama||"";
        document.getElementById("o_alamat").value = o.o_alamat||"";
        document.getElementById("o_tanggal_lahir").value = o.o_tanggal_lahir||"";
        document.getElementById("o_pekerjaan").value = o.o_pekerjaan||"";
        document.getElementById("o_penghasilan").value = o.o_penghasilan||"";
        document.getElementById("o_hp").value = o.o_hp||"";
      }, 300);
    }
    function konfirmasiData() {
      // Data sudah valid, tampilkan pengumuman (hanya data siswa)
      hideAll();
      document.getElementById("pengumuman").classList.remove("hidden");
      const s = JSON.parse(localStorage.getItem("dataSiswa")) || {};
      document.getElementById("p_s_nama").textContent = s.s_nama||"";
      document.getElementById("p_s_nik").textContent = s.s_nik||"";
      document.getElementById("p_s_tempat_lahir").textContent = (s.s_tempat_lahir||"") + ', ' + (s.s_tanggal_lahir||"");
      document.getElementById("p_s_jk").textContent = s.s_jk||"";
      document.getElementById("p_s_alamat").textContent = s.s_alamat||"";
      document.getElementById("p_s_hp").textContent = s.s_hp||"";
      document.getElementById("p_s_email").textContent = s.s_email||"";
      document.getElementById("p_s_ijazah").textContent = s.s_ijazah||"";
      document.getElementById("p_s_nisn").textContent = s.s_nisn||"";
      document.getElementById("p_s_sekolah").textContent = s.s_sekolah||"";
    }

    // Status Kelulusan
    function lihatStatus() {
      hideAll();
      document.getElementById("statusKelulusan").classList.remove("hidden");
      const s = JSON.parse(localStorage.getItem("dataSiswa")) || {};
      if (cekKelulusan(s.s_nama||"")) {
        document.getElementById("kelulusanInfo").innerHTML = `<strong>Selamat!</strong> Anda dinyatakan <b>LULUS</b> seleksi PPDB tahun ini.`;
      } else {
        document.getElementById("kelulusanInfo").innerHTML = `<strong>Mohon Maaf</strong>, Anda <b>TIDAK LULUS</b> seleksi PPDB tahun ini.`;
      }
    }

    // Saat reload, tampilkan halaman utama
    window.onload = function() {
      backToMain();
    }
  </script>
</body>
</html>
